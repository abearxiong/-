(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,n){e.exports=n(79)},63:function(e,t,n){},73:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setConfig",function(){return q}),n.d(a,"setIssues",function(){return D}),n.d(a,"setIssue",function(){return R}),n.d(a,"setRepos",function(){return F});var o=n(0),r=n.n(o),s=n(29),c=n.n(s),l=(n(62),n(63),n(14)),u=n(15),i=n(18),m=n(17),h=n(19),f=n(23),d=n(21),p=n(46),b={config:{},pageTitle:"\u9996\u9875",user:[]},g=(Symbol("SET_CONFIG"),Symbol("GET_STATE"),Symbol("SET_ISSUE")),v=Symbol("SET_ISSUES"),E=(Symbol("SET_CLIENT"),Symbol("SET_REPOS"));var y=Object(d.c)({setIssue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.config,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return e.issue=t.data,Object.assign({},e);default:return e}},setIssues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.config,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return e.issues=t.data,console.log("\u5f97\u5230",e,"data",t,t.type),Object.assign({},e);default:return e}}}),k=Object(d.d)(y,Object(d.a)(p.a)),C=n(51),O=n(22),j=n(83),I=n(81),w=n(84),T=n(53),S=n(54),x=n(55),H=n(36),A=n(37),_=n.n(A);function L(){var e=Object(H.a)(['\n        {\n          repository(owner: "','", name: "','") {\n              issue(',"){\n                id\n                title\n                bodyHTML\n                body\n                author{\n                  login\n                }\n                createdAt\n                comments( "," ",") {\n                  totalCount\n                  edges{\n                    node{\n                      bodyHTML\n                      author{\n                        login\n                      }\n                      reactions(content:HEART){\n                        totalCount\n                      }\n                      createdAt\n                    }\n                    cursor\n                  }\n                }\n                reactions(content:HEART){\n                  totalCount\n                }\n              }\n          }\n        }\n        "]);return L=function(){return e},e}function M(){var e=Object(H.a)(['\n        {\n          repository(owner: "','", name: "','") {\n              issues('," "," ",",orderBy:{field:CREATED_AT,direction:DESC}){\n                totalCount\n                pageInfo {\n                  endCursor\n                  startCursor\n                  hasNextPage\n                  hasPreviousPage\n                } \n                edges {\n                  node {\n                    id\n                    title\n                    bodyHTML\n                    body\n                    author{\n                        login\n                    }\n                    createdAt\n                    comments {\n                     totalCount\n                    }\n                    reactions(content:HEART){\n                      totalCount\n                    }\n                  }\n                }\n              }\n          }\n        }\n        "]);return M=function(){return e},e}var B,N,P=function(){function e(t){Object(l.a)(this,e),this.owner=t.owner,this.name=t.name,this.labels=t.labels?',labels:"'.concat(t.labels,'"'):"",this.graphql="",this.currentPage="first:10"}return Object(u.a)(e,[{key:"getIssues",value:function(e,t,n,a){return"next"===e?(t=t?"first:".concat(t):"",n=n?',after:"'.concat(n,'"'):""):(t=t?"last:".concat(t):"",n=n?',before:"'.concat(n,'"'):""),a=a?',labels:"'.concat(a,'"'):this.labels,console.log("gql set",a),_()(M(),this.owner,this.name,t,n,a)}},{key:"getIssue",value:function(e,t,n){return e="number:".concat(e),t=t?"first:".concat(t):"",n=n?',after:"'.concat(n,'"'):"",_()(L(),this.owner,this.name,e,t,n)}}]),e}(),q=function(e){var t=function(e){if(e){var t=e.token,n=new x.a({uri:"https://api.github.com/graphql",headers:{Authorization:"Bearer ".concat(t)}});return{client:new T.a({link:n,cache:new S.a}),repos:new P(e)}}}(e);B=t.client,N=t.repos},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.type||"next",a=e.first||2,o=e.after;B.query({query:N.getIssues(n,a,o)}).then(function(e){console.log("issues\u83b7\u53d6\u7684\u5185\u5bb9",e),t({type:v,data:e.data.repository.issues})})}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.number||6,a=e.first||10,o=e.after;B.query({query:N.getIssue(n,a,o)}).then(function(e){var n=e.data.repository.issue;t({type:g,data:n})})}},F=function(e,t,n){return function(e){e({type:E})}},G=R,J=D,U=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(i.a)(this,Object(m.a)(t).call(this,e));var a=e.match.params,o=a.number?a.number:6;return n.state={msg:"msg hhh",number:o},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.setIssue,t=this.state.number;console.log("Post\u521d\u59cb\u5316",t),e({number:t})}},{key:"handleClick",value:function(){this.setState({msg:"msg\u4fee\u6539"}),console.log(this)}},{key:"render",value:function(){var e,t=this;if(this.props.state.setIssue.issue){var n=this.props.state.setIssue.issue;e=r.a.createElement(j.a,{className:"post-content"},r.a.createElement(j.a.Header,null,n.title),r.a.createElement(j.a.Title,null,n.createdAt),r.a.createElement(j.a.Body,{dangerouslySetInnerHTML:{__html:n.bodyHTML}}))}else e=r.a.createElement(j.a,null,"\u7b49\u7b49");return r.a.createElement(I.a,{className:"xx-space-post"},r.a.createElement(j.a,null,e),r.a.createElement(j.a,null,"\u653e\u8bc4\u8bba\u7684\u5730\u65b9"),r.a.createElement(w.a,{onClick:function(e){return t.handleClick(e)}},"Evernote"))}}]),t}(o.Component),W=Object(f.b)(function(e){return console.log("state \u6620\u5c04",e),{state:e}},function(e,t){return{setIssue:function(t){e(G(t))}}})(U),z=n(82),$=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={message:"test",spaces:[]},console.log(e),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.setIssues;console.log("Home \u521d\u59cb\u5316"),e()}},{key:"handleClick",value:function(){alert("home")}},{key:"preClick",value:function(e,t){var n=this.props.setIssues,a={type:"previous"};a.after=t,console.log("\u8bbe\u7f6e\u4e0a\u4e00\u9875",a),n(a)}},{key:"nextClick",value:function(e,t){var n=this.props.setIssues,a=t;console.log("\u8bbe\u7f6e\u4e0b\u4e00\u9875",a),n({after:a})}},{key:"render",value:function(){var e,t=this,n="",a="",o="";if(this.props.state.setIssues.issues){var s=this.props.state.setIssues.issues,c=s.edges,l=s.pageInfo,u=s.totalCount;e=c.map(function(e,t){var n=new Date(e.node.createdAt);return r.a.createElement(j.a,{key:t},r.a.createElement(j.a.Header,null,e.node.title),r.a.createElement(j.a.Title,null,n.toLocaleString()),r.a.createElement(j.a.Body,{dangerouslySetInnerHTML:{__html:e.node.bodyHTML}}),r.a.createElement(j.a.Footer,null,e.node.reactions.totalCount,"|comments: ",e.node.comments.totalCount))}),l.hasPreviousPage&&(a=r.a.createElement(w.a,{onClick:function(e){return t.preClick(e,l.startCursor)}},"\u4e0a\u4e00\u9875")),l.hasNextPage&&(n=r.a.createElement(w.a,{onClick:function(e){return t.nextClick(e,l.endCursor)}},"\u4e0b\u4e00\u9875")),o=r.a.createElement("div",null,u)}else e=r.a.createElement(j.a,null,"\u8bf7\u9a9a\u7b49");return r.a.createElement(I.a,{className:"xx-space"},r.a.createElement(j.a,null,r.a.createElement(j.a.Body,null,e),r.a.createElement(z.a,null,a,n),r.a.createElement(j.a.Footer,null,o)))}}]),t}(o.Component),K=Object(f.b)(function(e){return console.log("state \u6620\u5c04",e),{state:e}},function(e,t){return{setIssues:function(t){e(J(t))}}})($),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={message:"test",spaces:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){alert("hh")}},{key:"render",value:function(){return r.a.createElement(I.a,{className:"xx-space"},r.a.createElement("header",null,r.a.createElement(w.a,{className:"LoginButton"},"\u767b\u5f55")),r.a.createElement(j.a,null,r.a.createElement(j.a.Body,null),r.a.createElement(w.a,{onClick:this.handleClick},"Evernote")))}}]),t}(o.Component),V=(n(73),{token:"2a4917fe31a289c29616b82047f0e03c8c1976a6",owner:"abearxiong",name:"abearxiong.github.io",labels:"xx-space"}),X=function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(i.a)(this,Object(m.a)(t).call(this,e)),q(V),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(f.a,{store:k},r.a.createElement(C.a,null,r.a.createElement(O.a,{path:"/",component:K}),r.a.createElement(O.a,{path:"/post/:number",component:W}),r.a.createElement(O.a,{path:"/edit/:id",component:Q})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,1,2]]]);
//# sourceMappingURL=main.b4a0caad.chunk.js.map