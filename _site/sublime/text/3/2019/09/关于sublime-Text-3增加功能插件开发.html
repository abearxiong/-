<!DOCTYPE html>
<html lang="zh">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>关于sublime Text 3增加功能插件开发 | Abear</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="关于sublime Text 3增加功能插件开发" />
<meta name="author" content="abearxiong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="根据对插件的学习，创建了一个插件，理解了插件的功能模块，对之后sublime text的插件编写做了一个开头。并记下我，想做什么插件。" />
<meta property="og:description" content="根据对插件的学习，创建了一个插件，理解了插件的功能模块，对之后sublime text的插件编写做了一个开头。并记下我，想做什么插件。" />
<link rel="canonical" href="http://0.0.0.0:4000/sublime/text/3/2019/09/%E5%85%B3%E4%BA%8Esublime-Text-3%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html" />
<meta property="og:url" content="http://0.0.0.0:4000/sublime/text/3/2019/09/%E5%85%B3%E4%BA%8Esublime-Text-3%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html" />
<meta property="og:site_name" content="Abear" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-09-16T23:18:49+08:00" />
<script type="application/ld+json">
{"description":"根据对插件的学习，创建了一个插件，理解了插件的功能模块，对之后sublime text的插件编写做了一个开头。并记下我，想做什么插件。","@type":"BlogPosting","url":"http://0.0.0.0:4000/sublime/text/3/2019/09/%E5%85%B3%E4%BA%8Esublime-Text-3%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html","dateModified":"2019-09-16T23:18:49+08:00","datePublished":"2019-09-16T23:18:49+08:00","headline":"关于sublime Text 3增加功能插件开发","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/sublime/text/3/2019/09/%E5%85%B3%E4%BA%8Esublime-Text-3%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html"},"author":{"@type":"Person","name":"abearxiong"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<!-- cdn -->  <!-- bootstrap -->
<link href="https://cdn.bootcss.com/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/feed.xml" title="Abear" />
  </head>
  <body>  <div class="header-wraper">
      <header class="Header">
        <div class="Header-item">
          <a class="Header-link" href="/">
            <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
          </a>
        </div>
        <div class="Header-item"><input type="text"  /></div>
        <div class="Header-item">
          <a class="Header-link" href="/article">文章</a>
          <a class="Header-link" href="/xx-space">空间</a>
          <a class="Header-link" href="/draft">草稿</a>
          <a class="Header-link" href="/project">计划</a>
          <a class="Header-link" href="/feed.xml">RSS</a>
          <a class="Header-link" href="/lolChessHelper/">L自走棋</a>
        </div>
      </header>
  </div><div class="container">
      <div class="home">
  <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
      <h1 class="post-title p-name" itemprop="name headline">关于sublime Text 3增加功能插件开发</h1>
      <p class="post-meta">
        <time class="dt-published" datetime="2019-09-16T23:18:49+08:00" itemprop="datePublished">Sep 16, 2019
        </time></p>
    </header>

    <div class="post-content e-content" itemprop="articleBody">
      <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import sublime
import sublime_plugin
import threading
import time

class ExampleCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        self.view.insert(edit, 0, "Hello, World!")

i=0

class timer(threading.Thread): #The timer class is derived from the class threading.Thread  
    def __init__(self, num, interval):
        threading.Thread.__init__(self)
        self.thread_num = num
        self.interval = interval
        self.thread_stop = False 
    def run(self): #Overwrite run() method, put what you want the thread do here
        global i
        while not self.thread_stop:
            sublime.set_timeout(write_time,1)
            i+=1  
            time.sleep(self.interval)          
    def pause(self):        
        self.thread_stop = True
    
    def zero(self):
        global i
        i=0    



thread1 = timer(1, 1)
class gtimerCommand(sublime_plugin.TextCommand):    
    def run(self, edit):
        global thread1
        thread=timer(1,1) 
        if thread1.isAlive():
            live=True
        else:                               
            thread.start()
            thread1=thread

class gtimerpauseCommand(sublime_plugin.TextCommand):    
    def run(self, edit):         
        global thread1
        thread1.pause()

class gtimerzeroCommand(sublime_plugin.TextCommand):    
    def run(self, edit):
        global thread1         
        thread1.zero()
        
   
def write_time():
    sublime.status_message(time_manage(i))

def time_manage(time_number):
    time_str=' time: '+str(int(time_number/60))+'min '+str(time_number%60)+'s'
    return time_str

# ---
# layout: post
# title: 关于sublime Text 3增加功能插件开发 
# date: 2019-09-16 23:18:49 +0800 
# categories: Sublime Text 3 
# tags: ["plugin", "插件", "Sublime"]
# notebook: Sublime Text 3
# disqus: false
# gitalk: true
# description: 对内容的描述
# ---

class ToltCommand(sublime_plugin.TextCommand):
    '''
    格式化&lt;&gt;标签进行转义
    '''
    def run(self, edit):
        for region in reversed(self.view.find_all("&lt;")): 
            if not region.empty(): 
                self.view.replace(edit, region, "&amp;lt;") 
        for region in reversed(self.view.find_all("&gt;")):
            if not region.empty():
                self.view.replace(edit, region, "&amp;gt;")

class NltCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        for region in reversed(self.view.find_all("&amp;lt;")):
            if not region.empty():
                self.view.replace(edit, region, "&lt;")        
        for region in reversed(self.view.find_all("&amp;gt;")):
            if not region.empty():
                self.view.replace(edit, region, "&gt;")
</code></pre></div></div>

<p>以上是源码，搜索资料研究的关于状态栏的运行时间，关于转义标签的问题。</p>

<p><a href="https://www.sublimetext.com/docs/3/api_reference.html">api文档 english</a></p>

<p><a href="https://feliving.github.io/Sublime-Text-3-Documentation/api_reference.html">api document chinese</a></p>

<p><a href="https://sublime-text.readthedocs.io/en/latest/intro.html">文档</a></p>

<h3 id="命令面板">命令面板</h3>

<p>是一个绑定到键盘 Ctrl+Shift+P 的交互列表，其目的在意执行命令。命令面板 与命令文件相互联系。通常，命令不保证产生一个按键绑定，可以在 .sublime-commands 中作为一些很好的候选。</p>

<p>Defult.sublime-commonds</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
    { "caption": "Time Start", "command": "gtimer" },
]
</code></pre></div></div>

    </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<div id="gitalk-container"></div>

<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    const gitalk = new Gitalk({
        clientID: 'd209733bda586b697c41',
        clientSecret: 'efd35ea6ff910b44fb9fbbc29d6ec8240ac196a2',
        repo: 'reviews',
        owner: 'abearxiong',
        admin: ['abearxiong'],
        id: location.pathname,      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script>
<a class="u-url" href="/sublime/text/3/2019/09/%E5%85%B3%E4%BA%8Esublime-Text-3%E5%A2%9E%E5%8A%A0%E5%8A%9F%E8%83%BD%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91.html" hidden></a>
  </article>
</div>
    </div><div class="footer" style="text-align: center;">
    <span class="">蜀ICP备16031039号</span>
    <span class="">©️2019 Abearxiong</span>
</div><!--Bootstrap js-->
<script src="/assets/js/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<!-- Script -->
<script src="/assets/js/main.js"></script>

  </body>

</html>